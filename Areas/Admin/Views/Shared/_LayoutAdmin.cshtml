@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="shortcut icon" href="~/assets/img/logo/logo.png">
   <link href="~/assets/css/chart/mobiscroll.javascript.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="~/assets/bootstrap/bootstrap4.min.css" rel="stylesheet">
    <link href="~/assets/bootstrap/bootstrap5.min.css" rel="stylesheet">
    <link href="~/assets/bootstrap/font-awesome.min.css" rel="stylesheet">
    <link href="~/assets/bootstrap/bootstrap-icons.css" rel="stylesheet">
    <link href="~/assets/bootstrap/animate.min.css" rel="stylesheet">
    <link href="~/css/c.css" rel="stylesheet" />
    <link href="~/css/login.css" rel="stylesheet" />
    <link href="~/css/site.css" rel="stylesheet" />
    <link href="~/css/Login/login.css" rel="stylesheet" />
     <link href="~/assets/css/newcss.css" rel="stylesheet">
    <link href="~/assets/css/style.css" rel="stylesheet">
    <style>
    
    .dropdown-item.active, .dropdown-item:active {
    color: #fff;
    text-decoration: none;
    background-color: #558286;
}

    </style>
</head>

<body dir="rtl">
   
    <div class="container" id="lod">
        <h6 class="position-absolute mx-auto">انتظر قليلا لو سمحت</h6>
        <div id="loading"></div>
    </div>
    <main id="main" style="display: block;">
        <header class="bgcolors">
            <div class="sidebar h-100  end-0 " id="myDIV" >

                <div class="sidebar-header d-flex justify-content-center pb-3 " >
                    <a href="/Home/Index" class="sidebar-logo">
                        <img src="~/assets/img/logo/logowit.png" class="logo" id="logo" />
                    </a>
                </div>

                <div id="btn " onclick="myFunction()" class="close bg-white rounded-circle border-0 iconpos">
                    <i class="bi bi-x fs-1 "></i>
                </div>
                <div class="sidebar-body scrol">
                    <div class="">
                        <div class="sidebar-search">
                            <div class="search-body align-items-center text-white ">
                                <input type="text" class=" form-control shadow-none border-0 text-end" id="mySearch"
                                       placeholder="ابحث...">
                                <i class="bi bi-search fs-4"></i>
                            </div>
                        </div>
                    </div>
                    <ul id="myList">
                        <li id="1" class="main ">
                            <a class="list " asp-area="Admin" asp-controller="AdminOperation" asp-action="Index">

                                <span class="title ">الرئيسية</span>
                                <span class="icon">
                                    <i class="bi bi-house-door"></i>
                                </span>
                            </a>
                        </li>
                        <li id="2" class="" >
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Estate">
                                <input value="2" hidden />
                                <span class="title">العقارات</span>
                                <span class="icon">
                                    <i class="bi bi-building"></i>
                                </span>
                            </a>
                        </li>
                        <li id="3" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Category">
                                <input value="3" hidden />
                                <span class="title">التصنيفات</span>
                                <span class="icon">

                                    <i class="bi bi-columns-gap"></i>
                                </span>
                            </a>
                        </li>
                        <li id="4" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="User">
                                <input value="4" hidden />
                                <span class="title">المستخدمين</span>
                                <span class="icon">

                                    <i class="bi bi-people"></i>
                                </span>
                            </a>
                        </li>
                        <li id="5" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Type">
                                <input value="5" hidden />
                                <span class="title">الانواع</span>
                                <span class="icon">
                                    <i class="bi bi-tags"></i>
                                </span>

                            </a>
                        </li>
                        <li id="6" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="State">
                                <input value="6" hidden />
                                <span class="title">الدول</span>
                                <span class="icon">
                                    <i class="bi bi-flag"></i>
                                </span>

                            </a>
                        </li>
                        <li id="7" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="City">
                                <input value="7" hidden />
                                <span class="title">المدن</span>
                                <span class="icon">
                                    <i class="bi bi-map"></i>
                                </span>

                            </a>
                        </li>
                        <li id="11" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Contact">
                                 <input value="7" hidden/>
                                <span class="title">رسائل التواصل</span>
                                <span class="icon">
                                    <i class="bi bi-chat"></i>
                                </span>

                            </a>
                        </li>
                        <li id="8" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Advertisement">
                                <input value="8" hidden />
                                <span class="title">الاعلانات</span>
                                <span class="icon">
                                    <i class="bi bi-newspaper"></i>
                                </span>

                            </a>
                        </li>
                        <li id="9" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Currency">
                                <input value="9" hidden />
                                <span class="title">العملات</span>
                                <span class="icon">
                                    <i class="bi bi-credit-card"></i>
                                </span>

                            </a>
                        </li>
                        <li id="10" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Comments">
                                <input value="10" hidden />
                                <span class="title">التعليقات</span>
                                <span class="icon">
                                    <i class="bi bi-chat-dots"></i>
                                </span>

                            </a>
                        </li>

                        <li id="11" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Service">
                                <input value="11" hidden />
                                <span class="title">الخدمات</span>
                                <span class="icon">
                                    <i class="bi bi-list-ul"></i>
                                </span>

                            </a>
                        </li>
                        <li id="12" class="">
                            <a class="list" asp-area="Admin" asp-controller="InformationGen" asp-action="Index">
                                <input value="12" hidden />
                                <span class="title">المعلومات العامة</span>
                                <span class="icon">
                                    <i class="bi bi-body-text"></i>
                                </span>

                            </a>
                        </li>

                         <li id="13" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Opinion">
                                <input value="13" hidden />
                                <span class="title">آراء العملاء</span>
                                <span class="icon">
                                   <i class="bi bi-file-earmark-person"></i>
                                </span>

                            </a>
                        </li>
                         <li id="14" class="">
                            <a class="list" asp-area="Admin" asp-controller="AdminOperation" asp-action="Owner">
                                <input value="13" hidden />
                                <span class="title">أصحاب العقارات</span>
                                <span class="icon">
                                <i class="bi bi-person-badge"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="container-fluid p-0">
                <div class="content">

                    <ul class="nav p-0 align-items-center">

                        
                        <li class="nav-item">

                            <nav aria-label="breadcrumb">
                              <ol class="breadcrumb align-items-center">
                                <li class="breadcrumb-item  text-white fs-2">
                                  
                                   <p class="nav-link text-white fs-2">
                                            <span class="show d-none px-1" style="font-size:30px;cursor:pointer;"
                                                onclick="myFunction()">&#9776;</span>
                                            <span id="btnss" class="text-white d-lg-inline-block d-none">
                                                <i class="bi bi-chevron-right"></i>
                                            </span>
                                             <a class="nav-link text-white d-inline" aria-current="page" asp-area="Admin" asp-controller="AdminOperation" asp-action="Index">
                                   
                                                 لوحة التحكم
                                                  </a>
                                    </p>
                                   
                                </li>
                                <li class="breadcrumb-item text-white fs-4 active" aria-current="page">
                                      @ViewData["Title"]
                                </li>
                              </ol>
                            </nav>
                        </li>
                        
                         <li class="nav-item ps-2  me-auto">
                            <div class="toggle-container">
                                <button class="theme-btn text-white light" onclick="setTheme('light')"
                                    title="Light mode">
                                    <i class="bi bi-brightness-high-fill"></i>
                                </button>
                                <button class="theme-btn text-white dark" onclick="setTheme('dark')" title="Dark mode">
                                    <i class="bi bi-moon-stars-fill"></i>
                                </button>
                            </div>
                        </li>


                        <li class="nav-item " >  

             

                           <div class="dropdown">
                                    <button id="btnNotification" type="button" class="btn text-white  dropdown-toggle " data-bs-toggle="dropdown" style="box-shadow: none;">
                                    <i class="bi bi-bell-fill fs-2"></i>
                                    <span  style="position: absolute;height: 25px;width:25px;  top: 0px;right:5px; border-radius: 50%;background: red;color: white; ">0</span>
                                    </button>
                                    <ul id="NotificationAdmin" class="dropdown-menu" >
                                        <li>sxdcfvgbhnjmk</li>
                                    </ul>
                            </div>
                        </li>

                       


                        <li class="nav-item  ps-2" >
                             <a id="btnChat" type="button" class="btn start-0 text-white fs-2 px-3 " asp-area="" asp-action="Chat" asp-controller="ContactUser"  style="box-shadow: none">
                                <i class="bi bi-chat-fill"></i>
                            </a>
                        </li>








                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle fs-2 text-white" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false"><i class="bi bi-person-bounding-box"></i>
                            </a>
                          

                          <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                            <li>
                                                 @if (SignInManager.IsSignedIn(User))
                                    { 
                                    <form class="form-inline "  asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                        <div class="fs-3">
                                                            <button type="submit" class="dropdown-item d-flex justify-content-center align-items-center ">تسجيل خروج</button>
                                                        </div>
                                                    </form>
             }
                                                </li>
                                            <li><partial name="_LoginAdminPartial" /></li>
                                           
                          </ul>
              
                        </li>




                    </ul>
                </div>
            </div>




        </header>



        <article class="content">
            <div class="container-fluid p-lg-5 mb-5">
                 @RenderBody()       
            </div>           
        </article>
    </main>


    
    <script src="~/js/Estate.js"></script>
    <script src="~/js/site.js"></script>
    <script src="~/js/Login/lottie-player.js"></script>
    <script src="~/js/Login/all.js"></script>
    <script src="~/js/Login/bootstrap.bundle.min.js"></script>
    <script src="~/assets/bootstrap/bootstrap5.bundle.min.js"></script>
    <script src="~/assets/bootstrap/ajax_query.min.js"></script>
    <script src="~/assets/bootstrap/jquery-3.1.0.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="~/assets/bootstrap/Chart.min.js"></script>
    <script src="~/assets/js/animate.js"></script>
    <script src="~/assets/js/loding.js"></script>
   <script src="~/assets/js/Chart.js" type="text/javascript"></script>
    <script src="~/SweetAlert/sweetalert2@11.js"></script>
    <script src="~/lib/aspnet/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/Chat.js"></script>
    <script src="~/assets/js/index.js"></script> 
    @await RenderSectionAsync("Scripts", required: false)
    <script>
$(document).ready(function() {
    if (sessionStorage.getItem("LiActivt") == null) {
        $("#1").addClass("aa");
        $("#1").children("a").addClass("aa");
       
    }
    else {
         $(`#${sessionStorage.getItem("LiActivt")}`).addClass("aa");
        $(`#${sessionStorage.getItem("LiActivt")}`).children("a").addClass("aa");
    }
});
$("li a.list").click(function() {
    sessionStorage.setItem("LiActivt", $(this).parent().attr("id"));
});
        /*Dropdown Menu*/
$('.dropdown').click(function () {
        $(this).attr('tabindex', 1).focus();
        $(this).toggleClass('active');
        $(this).find('.dropdown-menu').slideToggle(300);
    });
    $('.dropdown').focusout(function () {
        $(this).removeClass('active');
        $(this).find('.dropdown-menu').slideUp(300);
    });
    $('.dropdown .dropdown-menu li').click(function () {
        $(this).parents('.dropdown').find('span').text($(this).text());
        $(this).parents('.dropdown').find('input').attr('value', $(this).attr('id'));
    });
/*End Dropdown Menu*/

        let btn = document.querySelector("#btnss");
        let sidebar = document.querySelector(".sidebar");
        let scripthiden = document.querySelectorAll(".scripthiden");
        let content = document.querySelectorAll(".content");
        let list = document.querySelectorAll(".list");
        let logo = document.getElementById("logo");
        logo.style.display = "block";
        btn.onclick = function () {
            sidebar.classList.toggle("active");
            for (let i = 0; i < scripthiden.length; i++) {
                scripthiden[i].classList.toggle("active");
                logo.style.display = "none"
            }
            for (let i = 0; i < content.length; i++) {
                content[i].classList.toggle("active");
            }
            for (let i = 0; i < list.length; i++) {
                list[i].classList.toggle("active");
            }
            logo.classList.toggle("active");
        }


        $(document).ready(function () {
            $("#mySearch").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#myList li").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });


        window.onresize = changeDisplaySize;

        function changeDisplaySize() {
            var x = document.getElementById("myDIV");

            if (window.innerWidth > 992) {
                x.classList.toggle("showNav");
            }
        }
        function myFunction() {
            var x = document.getElementById("myDIV");
            x.classList.toggle("showNav");
        }

        function setTheme(themeName) {
            localStorage.setItem('theme', themeName);
            document.documentElement.className = themeName; 
        }
        (function () {
            if (localStorage.getItem('theme')) {
                setTheme(localStorage.getItem('theme'))
            } else {
                setTheme('theme-dark-blue')
            }

        })();


    </script>
</body>

</html>